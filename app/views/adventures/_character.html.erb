<%= turbo_frame_tag dom_id(character, :content), class: "animated fadeInDown" do %>
  <div class="row mb-3 border-bottom">
    <div class="col-md-3 mb-2">
    <%= image_tag character.character_image, id: "image#{character.id}", class: "rounded-circle", style: "width: 200px; height: auto" if character.character_image.attached? %>
    </div>
    <div class="col-md-8 row mb-2">
      <div class="row col-12">
        <span class="col fw-semibold fs-5" type="button" data-bs-toggle="offcanvas" data-bs-target="#<%= dom_id(character, "offcanvas") %>"><%= character.name %></span>
      </div>
      <div class="col-12 row">
        <span class="col-auto fw-semibold text-danger"><%= t("character.defense.hp")%></span>
        <span class="col-auto ms-2 hp" id="<%= dom_id(character, :hp) %>"><%=get_current_and_max_hp character_json %></span>
      </div>
      <div class="col mb-3">
        <div class="input-group btn-group h-25">
          <input type="number" class="form-control inputHp" id="<%= dom_id(character, :inputHp) %>" placeholder="<%= t("character.defense.hp")%>" aria-label="HP">
          <button type="button" class="btn btn-danger damageBtn" character_id="<%= character.id %>">-</button>
          <button type="button" class="btn btn-success healBtn" character_id="<%= character.id %>">+</button>
        </div>
      </div>
      <div class="col-12 row">
        <span class="col-auto fw-semibold text-danger"><%= t("character.defense.temporary hp")%></span>
        <span class="col-auto ms-2 temporary" id="<%= dom_id(character, :temporary) %>"><%= get_temporary_hp character_json %></span>
      </div>
      <div class="col mb-3">
        <div class="input-group btn-group h-25">
          <input type="number" class="form-control inputTemporary" id="<%= dom_id(character, :inputTemporary) %>" placeholder="<%= t("character.defense.temporary hp")%>">
          <button type="button" class="btn btn-success temporaryBtn" character_id="<%= character.id %>">+</button>
        </div>
      </div>
      <div class="">
        <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#diceRoller" data-bs-name="<%= character.name %>" data-bs-id="<%=character.id%>" data-bs-image="image<%=character.id%>"><%= t(:roller)%></button>
      </div>
    </div>
  </div>
  <%= turbo_stream.append "offcanvas-mix" do%>
    <%= render partial: "adventures/offcanvas", locals: { character: character, character_json: JSON.parse(character.statistic)["character"] } %>
  <% end %>
<% end %>